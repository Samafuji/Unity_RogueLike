# 3Dローグライクゲーム開発プラン

## 1. ゲームコンセプト
- **タイトル案**: "Chrono Depths"（仮）
- **ジャンル**: 3Dローグライク・アクションRPG
- **プレイ時間**: 1プレイ 20〜40分程度
- **想定プラットフォーム**: PC（キーボード&マウス / ゲームパッド）
- **キーメカニクス**:
  - プロシージャル生成された階層型ダンジョン
  - ターン制ではなく、時間の流れをプレイヤーのアクションで制御する「セミリアルタイム」
  - 能力カードのデッキ構築と装備のハイブリッド成長システム
  - ランごとに異なるストーリー断片を解放するメタ進行

## 2. プレイヤー体験
- プレイヤーは、時間を操る古代遺跡の探索者としてダンジョンに潜る。
- 戦闘はアクションベースだが、プレイヤーの行動で時間の流れが変化し、判断力が重要。
- 敵を倒し、イベントを通じて時間欠片を集めることで、新たな能力やストーリーが開放。

## 3. ゲームループ
1. 拠点で装備・カードを準備
2. ダンジョンへ出発（ラン開始）
3. フロアごとに戦闘 / 探索 / イベントを攻略
4. ボスを倒し次フロアへ or 退出
5. ラン終了後、収集したリソースでメタ進行

## 4. コアメカニクス詳細
### 4.1 時間制御戦闘
- プレイヤーが移動/攻撃/スキル使用などのアクションを行うと、一定時間だけ時間が進む。
- プレイヤーが静止している間、世界はスローモーションになり、戦術的な判断が可能。
- スタミナとタイムゲージの2リソース管理が鍵。

### 4.2 デッキ+装備システム
- カード: スキル・魔法・サポート効果。ラン中にドロップ/ショップ/イベントで入手。
- 装備: 武器・防具・アクセサリで、パッシブ効果とステータス補正。
- プレイヤーはラン開始時に初期デッキと装備を選択し、ラン中で強化。

### 4.3 プロシージャルダンジョン
- タイルベースのレベルチャンクを組み合わせて生成。
- 部屋種: 戦闘、イベント、ショップ、チャレンジ、ボス。
- ランダム性と手作り感を両立するため、モジュール式プレハブを活用。

## 5. コンテンツ計画
| 項目 | 内容 |
| --- | --- |
| プレイヤーアーキタイプ | 3種（スピード型、タンク型、キャスター型） |
| 敵タイプ | 基本10種 + エリート3種 + ボス3体 |
| カード | コモン30、レア15、レジェンド5 |
| 装備 | 武器15、防具15、アクセ10 |
| イベント | 15種（リスク/リワード型含む） |

## 6. アート・サウンド
- **アートスタイル**: セルシェーディング調のスタイライズド3D。
- **アセット調達**: 基本は自作、初期プロトタイプではUnity Asset Storeの無料/安価アセットを利用。
- **アニメーション**: Mecanimを用い、モーションキャプチャ素材 + 補間調整。
- **サウンド**: BGMはアンビエント+ローグライク特有の緊張感。効果音はFootstepや攻撃などカテゴリ別に準備。

## 7. 技術スタック
- **エンジン**: Unity 2022 LTS
- **プログラミング言語**: C#（URP採用）
- **バージョン管理**: Git + Git LFS（大容量アセット対応）
- **主要パッケージ**:
  - Cinemachine（カメラ制御）
  - ProBuilder（プロトタイプステージ作成）
  - Addressables（アセット管理）
  - Odin Inspector or custom editor tools（開発効率化）

## 8. システム設計案
### 8.1 コードアーキテクチャ
- **パターン**: ECSではなく、ScriptableObject + Componentベースのデータ駆動設計。
- **主なモジュール**:
  - `DungeonGenerator`: チャンク単位でダンジョン生成、部屋と通路の配置。
  - `TimeController`: アクションに応じた時間制御を管理。
  - `CombatController`: ヒット判定、ダメージ計算、ステータス効果。
  - `CardSystem`: カードデータ、デッキ構築、ドロー/プレイ処理。
  - `EquipmentSystem`: 装備データ、装備効果の適用。
  - `MetaProgression`: ラン終了後のアンロック/アップグレード管理。

### 8.2 データ管理
- ScriptableObjectで敵/カード/装備データを定義。
- Addressablesでランタイムに必要なアセットをロード。
- セーブデータはJSON + 暗号化（簡易）で実装。

### 8.3 入力・UI
- 新Input Systemでゲームパッド/キーボード対応。
- UIはUIToolkit + 一部UGUI。
- ミニマップ、カードハンド表示、ステータスバー、ログウィンドウを配置。

## 9. 開発ロードマップ（マイルストーン）
1. **プリプロ（2週）**: 詳細仕様策定、プロトタイプスコープ確定。
2. **コアシステム実装（6週）**:
   - ダンジョン生成の基礎
   - 時間制御戦闘のプロトタイプ
   - カード/装備の基本UI
3. **コンテンツ拡充（6週）**: 敵AI、ボス、イベント、カード/装備追加。
4. **アート/サウンド統合（4週）**: プレハブ差し替え、アニメーション、サウンド実装。
5. **メタ進行&ポリッシュ（4週）**: バランス調整、UX改善、チュートリアル。
6. **最終QA・リリース準備（2週）**: バグ修正、ビルド、ストア素材準備。

## 10. リスクと対策
- **スコープ膨張**: マイルストーンごとにレビュー、MVP優先。
- **プロシージャル生成の品質**: 手作りチャンクのバリエーションを初期から作成。
- **複雑なシステム連携**: テストシーンを活用し、各システムをモジュール単位で検証。
- **パフォーマンス**: URP最適化、オクルージョンカリング、LOD設定。

## 11. 次のステップ
- プロトタイプ用の最小機能セットを定義。
- スプリント計画を立て、各機能のタスクをJira/Notion等で管理。
- 主要システムの技術検証（TimeController、DungeonGenerator）を小規模シーンで実施。

